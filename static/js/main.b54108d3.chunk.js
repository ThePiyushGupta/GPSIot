(this.webpackJsonpgmapslocation=this.webpackJsonpgmapslocation||[]).push([[0],{117:function(t,e,a){},120:function(t,e){},122:function(t,e){},222:function(t,e){},223:function(t,e){},235:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),s=a(44),r=a.n(s),i=(a(95),a(19)),l=a(20),c=a(22),h=a(21),p=a(9),u=a(23),g=a(45),d=a.n(g),m=(a(117),a(87)),b=a.n(m),f={position:"absolute",width:20,height:20,left:-10,top:-10,border:"5px solid #f44336",borderRadius:20,backgroundColor:"white",textAlign:"center",color:"#3f51b5",fontSize:9,fontWeight:"bold",padding:4},k=function(t){function e(){return Object(i.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{style:f},this.props.text)}}]),e}(o.a.Component),v=a(33),y=a(11),j=26.444,E=91.691582,O="semsLocation";console.log("start");var C=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(c.a)(this,Object(h.a)(e).call(this,t)))._onClick=function(t){t.x,t.y;var e=t.lat,n=t.lng;t.event;a.setState({mar:{lon:n,lat:e}}),a.state.client.publish(O+"/mar/set/lon",n.toString()),a.state.client.publish(O+"/mar/set/lat",e.toString())},a.state={gps:{lat:j,lon:E},mar:{lat:j,lon:E},rad:0,client:b.a.connect("mqtt://broker.mqttdashboard.com:8000/mqtt")},a.state.client.on("connect",(function(){console.log("mqtt connected"),this.subscribe("semsLocation/#",(function(t){t||console.log("subscribed")}))})),a.abhidekhtehain=a.abhidekhtehain.bind(Object(p.a)(a)),a.state.client.on("message",a.abhidekhtehain),a._onClick=a._onClick.bind(Object(p.a)(a)),a.fetchmar=a.fetchmar.bind(Object(p.a)(a)),a.radiuschanged=a.radiuschanged.bind(Object(p.a)(a)),a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"abhidekhtehain",value:function(t,e){console.log(t,e.toString()),t===O+"/lat"?this.changeLat(parseFloat(e.toString())):t===O+"/lng"?this.changeLon(parseFloat(e.toString())):t===O+"/mar/lat"?this.changeMarLat(parseFloat(e.toString())):t===O+"/mar/lon"?this.changeMarLon(parseFloat(e.toString())):t===O+"/mar/rad"&&this.setState({rad:parseFloat(e.toString())})}},{key:"radiuschanged",value:function(t){this.state.client.publish(O+"/mar/set/rad",t.toString()),this.setState({rad:t})}},{key:"changeMarLat",value:function(t){t!==this.state.mar.lat&&(console.log(t),this.setState({mar:{lat:t,lon:this.state.mar.lon}})),console.log(this.state.mar)}},{key:"changeMarLon",value:function(t){t!==this.state.mar.lon&&(console.log(t),this.setState({mar:{lon:t,lat:this.state.mar.lat}})),console.log(this.state.mar)}},{key:"changeLat",value:function(t){t!==this.state.gps.lat&&(console.log(t),this.setState({gps:{lat:t,lon:this.state.gps.lon}}))}},{key:"changeLon",value:function(t){t!==this.state.gps.lon&&(console.log(t),this.setState({gps:{lon:t,lat:this.state.gps.lat}}))}},{key:"fetchmar",value:function(){console.log("hehe"),this.state.client.publish(O+"/mar/fetch","fetch")}},{key:"render",value:function(){return o.a.createElement(v.a,null,o.a.createElement("div",null,o.a.createElement("nav",null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.google.com/maps/search/?api=1&query="+this.state.gps.lat+","+this.state.gps.lon,target:"_blank",rel:"noopener noreferrer"},"Directions to my cycle")),o.a.createElement("li",null,o.a.createElement(v.b,{to:"/getMarkerLocation"},"Get Marker Location")),o.a.createElement("li",null,o.a.createElement(v.b,{to:"/liveTracking"},"Live Tracking of Cycle")))),o.a.createElement(y.c,null,o.a.createElement(y.a,{path:"/liveTracking"},o.a.createElement(S,{lat:this.state.gps.lat,lon:this.state.gps.lon})),o.a.createElement(y.a,{path:"/getMarkerLocation"},o.a.createElement(L,{lat:this.state.mar.lat,lon:this.state.mar.lon,_onClick:this._onClick,fetchmar:this.fetchmar,rad:this.state.rad,gpslat:this.state.gps.lat,gpslon:this.state.gps.lon,radiuschanged:this.radiuschanged})))))}}]),e}(o.a.Component),S=function(t){function e(){return Object(i.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{style:{height:"100vh",width:"100%"}},o.a.createElement(d.a,{bootstrapURLKeys:{key:["AIzaSyB2j - BLr1 - CgTgSEUjws060kE37S2N - A3A"]},defaultZoom:8,defaultCenter:{lat:26,lng:91}},o.a.createElement(k,{lat:this.props.lat,lng:this.props.lon,text:"CYCLE"})))}}]),e}(o.a.Component),L=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(c.a)(this,Object(h.a)(e).call(this,t))).props.fetchmar(),a.renderMarkers=a.renderMarkers.bind(Object(p.a)(a)),a.changerad=a.changerad.bind(Object(p.a)(a)),a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"componentDidUpdate",value:function(t){console.log(this.props),t.lat===this.props.lat&&t.lon===this.props.lon||this.state&&this.state.circle&&this.state.circle.setCenter({lat:this.props.lat,lng:this.props.lon}),t.rad!==this.props.rad&&this.state.circle&&this.state.circle.setRadius(this.props.rad)}},{key:"changerad",value:function(t){var e=this.state.circle.getRadius();this.props.radiuschanged(e)}},{key:"renderMarkers",value:function(t,e){var a={lat:this.props.lat,lng:this.props.lon},n=new window.google.maps.Circle({strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.3,center:a,radius:275,editable:!0});n.setCenter(a),n.setMap(t),this.setState({circle:n}),this.state.circle.addListener("radius_changed",this.changerad)}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{style:{height:"100vh",width:"100%"}},o.a.createElement(d.a,{bootstrapURLKeys:{key:["AIzaSyB2j - BLr1 - CgTgSEUjws060kE37S2N - A3A"]},defaultZoom:8,defaultCenter:{lat:26,lng:91},onClick:this.props._onClick,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var a=e.map,n=e.maps;return t.renderMarkers(a,n,t.props.lng)}},o.a.createElement(k,{lat:this.props.gpslat,lng:this.props.gpslon,text:"CYCLE"})))}}]),e}(o.a.Component),w=C;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},90:function(t,e,a){t.exports=a(235)},95:function(t,e,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.b54108d3.chunk.js.map